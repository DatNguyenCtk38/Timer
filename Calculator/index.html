<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Rarity Point Calculator</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #0f1115;
  color: #eaeaea;
  padding: 20px;
}

h2 {
  margin-bottom: 12px;
}

table {
  border-collapse: collapse;
  width: 100%;
  max-width: 900px;
  background: #161a22;
}

th, td {
  border: 1px solid #2a2f3a;
  padding: 8px;
  text-align: center;
}

th {
  background: #1f2430;
}

input {
  width: 60px;
  padding: 4px;
  text-align: center;
  background: #0f1115;
  color: #fff;
  border: 1px solid #2a2f3a;
  border-radius: 4px;
}

input:focus {
  outline: none;
  border-color: #5dade2;
  box-shadow: 0 0 0 2px rgba(93,173,226,.25);
}

input.filled {
  border-color: #6c7ae0;
  background: #151a28;
}

.total {
  margin-top: 16px;
  font-size: 20px;
  font-weight: bold;
}

/* ===== Rarity ===== */
.rarity { font-weight: bold; }
.COMMON { color: #b0b0b0; }
.RARE { color: #2ecc71; }
.EPIC { color: #9b59b6; }
.LEGEND { color: #f1c40f; }
.MYTHIC { color: #e74c3c; }

/* ===== Background ===== */
tr.bg-COMMON { background: #161a22; }
tr.bg-RARE { background: rgba(46,204,113,.08); }
tr.bg-EPIC { background: rgba(155,89,182,.10); }
tr.bg-LEGEND { background: rgba(241,196,15,.12); }
tr.bg-MYTHIC { background: rgba(231,76,60,.14); }

/* ===== Copy button ===== */
button {
  margin-top: 12px;
  padding: 8px 14px;
  background: #2d6cdf;
  border: none;
  border-radius: 6px;
  color: #fff;
  cursor: pointer;
}

button:hover {
  background: #3d7eff;
}

/* ===== Toast ===== */
.toast {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.95);
  background: #1f2430;
  color: #fff;
  padding: 12px 20px;
  border-radius: 8px;
  font-size: 14px;
  opacity: 0;
  transition: all 0.25s ease;
  z-index: 9999;
}
.toast.show {
  opacity: 1;
  transform: translateY(0);
}
</style>
</head>

<body>

<h2>ðŸŽ¯ Rarity Point Calculator</h2>

<table>
<thead>
<tr>
  <th>Rarity</th>
  <th>0â˜…</th>
  <th>1â€“2â˜…</th>
  <th>3â€“4â˜…</th>
  <th>5â˜…</th>
</tr>
</thead>
<tbody id="table-body"></tbody>
</table>

<div class="total">
Total Points: <span id="totalPoint">0</span>
</div>

<button onclick="copyResult()">ðŸ“‹ Copy Result</button>

<div id="toast" class="toast">Copied to clipboard!</div>

<script>
const pointTable = {
  COMMON:  [10,15,30,90],
  RARE:    [30,45,90,270],
  EPIC:    [50,75,150,450],
  LEGEND:  [100,150,300,900],
  MYTHIC:  [300,450,900,2700]
};

const starLabels = ["0*", "1-2*", "3-4*", "5*"];
const tableBody = document.getElementById("table-body");

Object.keys(pointTable).forEach(rarity => {
  const row = document.createElement("tr");
  row.className = `bg-${rarity}`;
  row.innerHTML = `
    <td class="rarity ${rarity}">${rarity}</td>
    ${pointTable[rarity].map((_, i) => `
      <td><input type="number" min="0" placeholder="-" data-rarity="${rarity}" data-star="${i}" oninput="calculate(this)"></td>
    `).join("")}
  `;
  tableBody.appendChild(row);
});

function calculate() {
  let total = 0;
  document.querySelectorAll("input").forEach(i => {
    const qty = Number(i.value) || 0;
    i.classList.toggle("filled", qty > 0);
    total += qty * pointTable[i.dataset.rarity][i.dataset.star];
  });
  document.getElementById("totalPoint").innerText = total;
}

function copyResult() {
  let lines = [];
  document.querySelectorAll("input").forEach(i => {
    const qty = Number(i.value) || 0;
    if (!qty) return;
    lines.push(
      `${i.dataset.rarity} Material ${starLabels[i.dataset.star]} : ${qty}`
    );
  });

  lines.push(`Total Points : ${document.getElementById("totalPoint").innerText}`);
  navigator.clipboard.writeText(lines.join("\n"));
  showToast();
}

function showToast() {
  const toast = document.getElementById("toast");
  toast.classList.add("show");
  setTimeout(() => toast.classList.remove("show"), 2000);
}
</script>

</body>
</html>
